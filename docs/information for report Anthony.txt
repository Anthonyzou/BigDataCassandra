Configuring the cluster:

	Cluster name must be "group3"

	listen_address must be set appropriately

	Must use cassandra 2.0.6 and above

	run cqlsh in cassandra/bin and run:
			CREATE KEYSPACE group3 WITH REPLICATION = { 'class' : 'SimpleStrategy','replication_factor' : 1 }

Python driver needed:
	
	sudo pip install cassandra-driver


Running our program:
	Our program is made to ideally mean to be put on a machine that is part the group3 cluster
	and run locally. 




Insertion of 300k entries took 35 minutes which took a lot of time mainly from
the introduction of the counter tables for the group by queries, namely group_by_month_day.
and group_by_MOBILE_ID_TYPE.


SELECT count (*) as ten_atomic
FROM cdr 
WHERE 
(CITY_ID,SERVICE_NODE_ID,RUM_DATA_NUM,MONTH_DAY,DUP_SEQ_NUM,MOBILE_ID_TYPE,SEIZ_CELL_NUM,FLOW_DATA_INC,SUB_HOME_INT_PRI,CON_OHM_NUM) 
> (10000,10000,10000,3,10000,1,10000,10000,10000,10000)
AND (CITY_ID,SERVICE_NODE_ID,RUM_DATA_NUM,MONTH_DAY,DUP_SEQ_NUM,MOBILE_ID_TYPE,SEIZ_CELL_NUM,FLOW_DATA_INC,SUB_HOME_INT_PRI,CON_OHM_NUM) 
< (150000,150000,150000,30,150000,8,150000,150000,150000,150000)
LIMIT 40000000
ALLOW FILTERING ;


SELECT count (*) as range_city_id
FROM cdr
WHERE
CITY_ID > 5000 AND CITY_ID < 90000
LIMIT 40000000
ALLOW FILTERING;

==============
Since our primary keys are always betweeen 0 and 9900000
we can query just one specific column by making sure we encompass the earlier columns.
By ensuring the earlier columns are greater than 0 and less than 9900000


SELECT count (*) as range_MOBILE_ID_TYPE
FROM cdr
WHERE 
(CITY_ID,SERVICE_NODE_ID,RUM_DATA_NUM,MONTH_DAY,DUP_SEQ_NUM,MOBILE_ID_TYPE)
>(0,0,0,0,0,30000) AND
(CITY_ID,SERVICE_NODE_ID,RUM_DATA_NUM,MONTH_DAY,DUP_SEQ_NUM,MOBILE_ID_TYPE)
<(4000000,4000000,4000000,4000000,4000000,50000)
LIMIT 40000000
ALLOW FILTERING;

=== GROUP BY
This is a number between 0-7 and it is assigned to each query based on 
their insertion sequence %8
This helps ensure that insertions are correct since 300k entries
provide 37.5k entries in each group. It also is a cluster

The insertions into these tables include an if condition to check if the primary key exists
before updating the counter. Without these counter tables a query on each group
is completely unfeasable.
Cassandra is made for all of the data to be preprocessed at insertion time.

SELECT *from GROUP_BY_MOBILE_ID_TYPE
SELECT * FROM group_by_month


